// Enhanced layout configuration
layout {
    gaps 8  // Slightly larger gaps for better visual separation
    
    // Center focused column when it doesn't fit
    center-focused-column "on-overflow"
    
    // Default column width
    default-column-width {
        proportion 0.5
    }
    
    // Preset column widths
    preset-column-widths {
        proportion 0.25
        proportion 0.33
        proportion 0.5
        proportion 0.66
        proportion 0.75
    }
    
    // Border settings
    border {
        on
        width 2
        active-color "#A1C9FF"
        inactive-color "#43474E"
        urgent-color "#FFB4AB"
        corner-radius 8
    }
    
    // Focus ring settings
    focus-ring {
        width 4
        active-gradient from="#A1C9FF" to="#004A77" angle=135 relative-to="workspace-view"
        inactive-color "#43474E"
    }
    
    // Shadow settings
    shadow {
        on
        softness 32
        spread 2
        offset x=0 y=8
        color "#000000C0"
    }
    
    // Struts for panel spacing
    struts {
        top 32
        bottom 32
        left 32
        right 32
    }
}

// Enhanced window rules
window-rule {
    // Rounded corners for all windows
    geometry-corner-radius 12
    clip-to-geometry true
    
    // Better floating window handling
    tiled-state true
    draw-border-with-background false
    
    // Default opacity
    opacity 0.98
}

// Specific rules for floating windows
window-rule {
    match app-id="pavucontrol"
    match app-id="nm-connection-editor"
    match app-id="blueman-manager"
    open-floating true
    default-column-width { fixed 400; }
}

// Terminal opacity
window-rule {
    match app-id=r#"^(Alacritty|alacritty|org\.wezfurlong\.wezterm)$"#
    opacity 0.95
}
